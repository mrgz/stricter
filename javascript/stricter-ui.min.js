function StricterUi(){this.loginUrl="/login"}var MOBILE_WIDTH=480;StricterUi.prototype.loading=function(a){};StricterUi.prototype.getContent=function(a){$.ajax({url:a+"/?ajax=1",dataType:"text",method:"GET",beforeSend:function(b){$("#st-content").html("")}}).success(function(b){$("#st-content").html(b)}).fail(function(b){if(b.status==401||b.status==403){window.location.replace(this.loginUrl)}}).complete(function(){stricterui.ajaxReload()})};StricterUi.prototype.postContent=function(a,b){if(b){refform="#"+b}else{refform=".st-class"}$.ajax({url:a+"/?ajax=1",data:$(refform).serialize(),dataType:"text",method:"POST",contentType:"application/x-www-form-urlencoded"}).success(function(c){$("#st-content").html(c)}).fail(function(c){if(c.status==401||c.status==403){window.location.replace(this.loginUrl)}}).complete(function(){stricterui.ajaxReload()})};StricterUi.prototype.ajaxReload=function(){$(".st-ajaxlink").unbind("click");$(".st-menulink").unbind("click");$(".st-form").unbind("submit");$(".st-ajaxlink").click(function(a){stricterui.loading(true);href=$(this).attr("href");stricterui.getContent(href);history.pushState({},href,href);a.preventDefault()});$(".st-menulink").click(function(a){stricterui.loading(true);href=$(this).attr("href");stricterui.getContent(href);history.pushState({},href,href);a.preventDefault()});$(".st-form").submit(function(a){href=$(this).attr("action");stricterui.postContent(href,$(this).attr("id"));history.replaceState("",href,href);a.preventDefault()});stricterui.loading(false)};StricterUi.prototype.setMobile=function(a){};StricterUi.prototype.undo=function(a){if(fid=document.getElementById(a)){fid.reset()}};StricterUi.prototype.refresh=function(){window.location.reload()};StricterUi.prototype.del=function(a,b){var d=confirm("Remover este registro?");if(d==true){window.location.href=webpath+"/"+b+"/delete/"+id}};$(".st-form").submit(function(a){href=$(this).attr("action");stricterui.postContent(href);history.replaceState("",href,href);a.preventDefault()});$(window).resize(function(){if($(window).width()<MOBILE_WIDTH){stricterui.setMobile(true)}else{stricterui.setMobile(false)}});$(window).load(function(){$(".dropmenu").click(function(a){if($("#themenu").css("display")=="none"){$("#themenu").show(300)}else{$("#themenu").hide(300)}});if($(window).width()<MOBILE_WIDTH){stricterui.setMobile(true)}else{stricterui.setMobile(false)}$("#header .user").click(function(a){if($(".userbox").css("display")=="none"){$(".userbox").slideDown(300)}else{$(".userbox").slideUp(300)}})});$(window).ready(function(){$(".st-menulink").click(function(a){stricterui.loading(true);href=$(this).attr("href");stricterui.getContent(href);history.pushState({},href,href);a.preventDefault()});$(".st-ajaxlink").click(function(a){stricterui.loading(true);href=$(this).attr("href");stricterui.getContent(href);history.pushState({},href,href);a.preventDefault()});if($(window).width()<MOBILE_WIDTH){stricterui.setMobile(true)}else{stricterui.setMobile(false)}});stricterui=new StricterUi();